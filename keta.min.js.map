{"version":3,"file":"keta.min.js","sources":["keta.min.js"],"names":["angular","module","factory","$http","AppContext","accessToken","get","api","set","token","isDefined","isString","refresh","method","url","provider","appContext","window","this","key","obj","split","i","l","length","$get","DeviceEventInstance","givenType","givenDevice","that","type","getType","device","getDevice","CREATED","UPDATED","DELETED","create","$q","$rootScope","$log","Device","DeviceEvent","EventBusDispatcher","EventBusManager","DeviceSetInstance","givenEventBus","eventBus","params","filter","project","projection","sort","sorting","paginate","pagination","offset","limit","query","deferred","defer","send","action","reply","code","result","items","forEach","item","index","inDebugMode","request","ADVANCED_FORMATTER","resolve","$digest","reject","promise","indexOf","guid","getAll","sync","event","push","splice","extend","DeviceInstance","properties","value","$pristine","copy","sendMessage","message","returnRejectedPromise","update","changes","tagValues","tagValue","tagName","equals","oca","Object","keys","deviceId","body","then","$window","$timeout","AccessToken","waitForOpen","success","error","getConfig","requestTimeout","getInstance","readyState","onopen","isFunction","STATE_CONNECTING","STATE_OPEN","STATE_CLOSING","STATE_CLOSED","RESPONSE_CODE_OK","RESPONSE_MESSAGE_OK","RESPONSE_CODE_BAD_REQUEST","RESPONSE_MESSAGE_BAD_REQUEST","RESPONSE_CODE_UNAUTHORIZED","RESPONSE_MESSAGE_UNAUTHORIZED","RESPONSE_CODE_NOT_FOUND","RESPONSE_MESSAGE_NOT_FOUND","RESPONSE_CODE_REQUEST_TIMEOUT","RESPONSE_MESSAGE_REQUEST_TIMEOUT","RESPONSE_CODE_AUTHENTICATION_TIMEOUT","RESPONSE_MESSAGE_AUTHENTICATION_TIMEOUT","RESPONSE_CODE_INTERNAL_SERVER_ERROR","RESPONSE_MESSAGE_INTERNAL_SERVER_ERROR","RESPONSE_CODE_SERVICE_UNAVAILABLE","RESPONSE_MESSAGE_SERVICE_UNAVAILABLE","address","replyHandler","handler","response","data","location","reload","publish","registerHandler","unregisterHandler","close","generateUUID","HEX_RANGE","BIT_HALF","BIT_SHIFT","replace","a","b","Math","random","toString","eventBuses","debug","add","id","remove","removeAll","eventBusId","enableDebug","disableDebug","EventBus","givenConfig","DEFAULT_CONFIG","reconnect","reconnectTimeout","autoConnect","autoUnregister","getDefaultConfig","config","eb","init","vertx","onclose","setTimeout","$provide","decorator","$delegate","messages","isArray","output","Date","toISOString","JSON","stringify","console","log","formatter","TagSetInstance","tags","tagsAsHierarchy","getTags","getTagsAsHierarchy","tag","getGuid","getName","TagInstance","name","sampleRate","getSampleRate"],"mappings":"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"}