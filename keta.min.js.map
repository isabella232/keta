{"version":3,"file":"keta.min.js","sources":["keta.min.js"],"names":["angular","module","factory","$http","AppContext","accessToken","get","api","set","token","isDefined","isString","refresh","method","url","provider","appContext","window","this","key","obj","split","i","l","length","$get","DeviceEventInstance","givenType","givenDevice","that","type","getType","device","getDevice","CREATED","UPDATED","DELETED","create","$q","$rootScope","DeviceEvent","EventBusDispatcher","DeviceSetInstance","givenEventBus","eventBus","params","filter","project","projection","sort","sorting","paginate","pagination","offset","limit","query","deferred","defer","send","action","reply","code","resolve","$digest","reject","promise","indexOf","index","forEach","result","items","item","guid","getAll","sync","event","push","splice","extend","DeviceInstance","properties","value","$pristine","copy","sendMessage","message","returnRejectedPromise","update","changes","tagValues","tagValue","tagName","oca","Object","keys","deviceId","body","then","$window","$timeout","AccessToken","STATE_CONNECTING","STATE_OPEN","STATE_CLOSING","STATE_CLOSED","RESPONSE_CODE_OK","RESPONSE_MESSAGE_OK","RESPONSE_CODE_BAD_REQUEST","RESPONSE_MESSAGE_BAD_REQUEST","RESPONSE_CODE_UNAUTHORIZED","RESPONSE_MESSAGE_UNAUTHORIZED","RESPONSE_CODE_NOT_FOUND","RESPONSE_MESSAGE_NOT_FOUND","RESPONSE_CODE_REQUEST_TIMEOUT","RESPONSE_MESSAGE_REQUEST_TIMEOUT","RESPONSE_CODE_AUTHENTICATION_TIMEOUT","RESPONSE_MESSAGE_AUTHENTICATION_TIMEOUT","RESPONSE_CODE_INTERNAL_SERVER_ERROR","RESPONSE_MESSAGE_INTERNAL_SERVER_ERROR","RESPONSE_CODE_SERVICE_UNAVAILABLE","RESPONSE_MESSAGE_SERVICE_UNAVAILABLE","address","replyHandler","handler","response","data","location","reload","isFunction","getConfig","requestTimeout","getInstance","publish","registerHandler","unregisterHandler","close","readyState","generateUUID","HEX_RANGE","BIT_HALF","BIT_SHIFT","replace","a","b","Math","random","toString","eventBuses","add","id","remove","removeAll","eventBusId","EventBus","givenConfig","DEFAULT_CONFIG","reconnect","reconnectTimeout","autoConnect","autoUnregister","getDefaultConfig","config","eb","init","vertx","onclose","setTimeout","$provide","decorator","$delegate","ADVANCED_FORMATTER","messages","isArray","output","Date","toISOString","JSON","stringify","console","log","request","formatter","TagSetInstance","tags","tagsAsHierarchy","getTags","getTagsAsHierarchy","tag","getGuid","getName","TagInstance","name","sampleRate","getSampleRate"],"mappings":"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"}