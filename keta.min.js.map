{"version":3,"file":"keta.min.js","sources":["keta.min.js"],"names":["angular","module","factory","$http","AppContext","accessToken","get","api","set","token","isDefined","isString","refresh","method","url","provider","appContext","window","this","key","obj","split","i","l","length","$get","DeviceEventInstance","givenType","givenDevice","that","type","getType","device","getDevice","CREATED","UPDATED","DELETED","create","$q","$rootScope","$log","Device","DeviceEvent","EventBusDispatcher","EventBusManager","DeviceSetInstance","givenEventBus","eventBus","params","filter","project","projection","sort","sorting","paginate","pagination","offset","limit","live","liveHandlerUUID","generateUUID","registerHandler","event","sync","value","inDebugMode","ADVANCED_FORMATTER","send","action","body","deviceFilter","deviceProjection","replyAddress","reply","request","query","deferred","defer","code","result","items","forEach","item","index","resolve","$digest","reject","promise","indexOf","guid","getAll","push","splice","extend","DeviceInstance","properties","$pristine","copy","sendMessage","message","returnRejectedPromise","update","changes","tagValues","tagValue","tagName","equals","oca","Object","keys","deviceId","then","$window","$timeout","AccessToken","waitForOpen","replied","success","error","getConfig","requestTimeout","getInstance","readyState","onopen","isFunction","STATE_CONNECTING","STATE_OPEN","STATE_CLOSING","STATE_CLOSED","RESPONSE_CODE_OK","RESPONSE_MESSAGE_OK","RESPONSE_CODE_BAD_REQUEST","RESPONSE_MESSAGE_BAD_REQUEST","RESPONSE_CODE_UNAUTHORIZED","RESPONSE_MESSAGE_UNAUTHORIZED","RESPONSE_CODE_NOT_FOUND","RESPONSE_MESSAGE_NOT_FOUND","RESPONSE_CODE_REQUEST_TIMEOUT","RESPONSE_MESSAGE_REQUEST_TIMEOUT","RESPONSE_CODE_AUTHENTICATION_TIMEOUT","RESPONSE_MESSAGE_AUTHENTICATION_TIMEOUT","RESPONSE_CODE_INTERNAL_SERVER_ERROR","RESPONSE_MESSAGE_INTERNAL_SERVER_ERROR","RESPONSE_CODE_SERVICE_UNAVAILABLE","RESPONSE_MESSAGE_SERVICE_UNAVAILABLE","address","replyHandler","handler","response","data","location","reload","publish","unregisterHandler","close","HEX_RANGE","BIT_HALF","BIT_SHIFT","replace","a","b","Math","random","toString","eventBuses","debug","add","id","remove","removeAll","eventBusId","enableDebug","disableDebug","EventBus","givenConfig","DEFAULT_CONFIG","reconnect","reconnectTimeout","autoConnect","autoUnregister","getDefaultConfig","config","eb","init","vertx","onclose","setTimeout","$provide","decorator","$delegate","messages","isArray","output","Date","toISOString","JSON","stringify","console","log","formatter","TagSetInstance","tags","tagsAsHierarchy","getTags","getTagsAsHierarchy","tag","getGuid","getName","TagInstance","name","sampleRate","getSampleRate"],"mappings":"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"}