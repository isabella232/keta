{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","de","directive","$rootScope","$window","$document","$timeout","$filter","EventBusManager","DeviceSet","ApplicationSet","User","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","defaultDisplayModes","scrollContainerHeight","container","navbarFirst","children","navbarFirstHeight","navbarSecond","navbarSecondHeight","navbarSecondMarginBottom","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","setContainerHeight","offsetHeight","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","isDefined","setDefaultLinks","isString","create","query","then","reply","items","entryUri","name","app","appId","doesPropertyExist","Object","keys","meta","i18n","locale","document","createElement","href","unshift","origin","search","allLinkKeysAlreadySet","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","filter","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}