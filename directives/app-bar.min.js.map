{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","directive","$rootScope","$window","$document","$timeout","EventBusManager","DeviceSet","User","ketaSharedConfig","restrict","replace","scope","eventBusId","locales","labels","links","worlds","displayModes","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","HIDDEN","FULL","COMPACT","SIZES","XXS","XS","SM","MD","LG","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","defaultDisplayModes","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","container","navbarFirst","navbarSecond","navbarFirstHeight","navbarSecondHeight","navbarSecondMarginBottom","scrollContainerHeight","children","offsetHeight","parseInt","getComputedStyle","getPropertyValue","defaultLabels","APP_TITLE","ALL_APPS","ENERGY_MANAGER","ALL_ENERGY_MANAGERS","USER_PROFILE","USER_LOGOUT","NOTIFICATIONS","isDefined","defaultLinks","TYPES","LIMITS","PREDICATES","field","reverse","extend","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","create","filter","deviceModel.deviceClass","$in","DEVICE_CLASSES","owner","project","tagValues","IdName","SettingsNetworkMap","query","then","reply","items","item","emIP","ipv4","name","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","locale","currentLocale","code","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","SIDEBAR","POSITION_LEFT","$broadcast","EVENTS","TOGGLE_SIDEBAR_LEFT","POSITION_RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}