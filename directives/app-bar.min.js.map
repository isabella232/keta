{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","directive","$rootScope","$window","$document","$timeout","EventBusManager","DeviceSet","User","ketaSharedConfig","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","HIDDEN","FULL","COMPACT","SIZES","XXS","XS","SM","MD","LG","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","defaultDisplayModes","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","scrollContainerHeight","container","navbarFirst","children","navbarSecond","navbarFirstHeight","navbarSecondHeight","navbarSecondMarginBottom","offsetHeight","parseInt","getComputedStyle","getPropertyValue","defaultLabels","APP_TITLE","ALL_APPS","ENERGY_MANAGER","ALL_ENERGY_MANAGERS","USER_PROFILE","USER_LOGOUT","NOTIFICATIONS","isDefined","defaultLinks","TYPES","LIMITS","PREDICATES","field","reverse","extend","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","create","filter","deviceModel.deviceClass","$in","DEVICE_CLASSES","owner","project","tagValues","IdName","SettingsNetworkMap","query","then","reply","items","item","emIP","ipv4","name","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","locale","code","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","SIDEBAR","POSITION_LEFT","$broadcast","EVENTS","TOGGLE_SIDEBAR_LEFT","POSITION_RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}