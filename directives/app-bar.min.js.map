{"version":3,"sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","__keta.directives.AppBar_logged_in_as","__keta.directives.AppBar_drop_access","de","directive","$rootScope","$window","$document","$filter","EventBusManager","DeviceSet","ApplicationSet","User","AccessToken","AccessTokenConstants","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","impersonationInfo","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","sizesHiddenState","defaultDisplayModes","scrollContainerHeight","container","navBars","find","navbarFirst","navbarFirstHeight","impersonationBar","getElementsByClassName","impersonationBarHeight","navbarSecond","navbarSecondHeight","navbarSecondMarginBottom","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","setContainerHeight","offsetHeight","isDefined","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","setDefaultLinks","isString","create","query","then","reply","items","entryUri","name","app","appId","doesPropertyExist","Object","keys","meta","i18n","locale","document","createElement","href","unshift","origin","search","allLinkKeysAlreadySet","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","filter","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","isImpersonated","isType","SESSION_TYPE","IMPERSONATED","getUserId","backUrl","getBackUrl","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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","file":"app-bar.min.js"}