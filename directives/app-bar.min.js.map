{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","directive","$rootScope","$window","$document","$timeout","EventBusManager","DeviceSet","User","ketaSharedConfig","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","APP_BAR","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","XXS","FULL","XS","SM","MD","LG","sizesDefaultState","HIDDEN","COMPACT","defaultDisplayModes","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","ENERGY_MANAGER_MENU","LANGUAGE_MENU","COMPACT_MENU","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","scrollContainerHeight","container","navbarFirst","children","navbarSecond","navbarFirstHeight","navbarSecondHeight","navbarSecondMarginBottom","offsetHeight","parseInt","getComputedStyle","getPropertyValue","defaultLabels","ALL_APPS","ALL_ENERGY_MANAGERS","ENERGY_MANAGER","NOTIFICATIONS","USER_PROFILE","USER_LOGOUT","isDefined","defaultLinks","APP_ROOT","TYPES","LIMITS","PREDICATES","field","reverse","extend","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","create","filter","deviceModel.deviceClass","$in","DEVICE_CLASSES","owner","project","tagValues","IdName","SettingsNetworkMap","query","then","reply","items","item","emIP","ipv4","name","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","locale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","SIDEBAR","POSITION_LEFT","$broadcast","EVENTS","TOGGLE_SIDEBAR_LEFT","POSITION_RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}