{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","directive","$rootScope","$window","$document","EventBusManager","DeviceSet","User","ketaSharedConfig","restrict","replace","scope","eventBusId","locales","labels","links","worlds","displayModes","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","HIDDEN","FULL","NONE","COMPACT","SIZES","XXS","XS","SM","MD","LG","ALL","DECIMAL_RADIX","HIDDEN_CLASS","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesNoneState","sizesDefaultState","defaultDisplayModes","worldSwitcher","mainMenu","notificationsMenu","userMenu","energyManagerMenu","languageMenu","settingsMenu","mergeObjects","customObject","defaultObject","value","result","container","navbarFirst","children","navbarSecond","navbarFirstHeight","offsetHeight","navbarSecondHeight","navbarSecondMarginBottom","parseInt","getComputedStyle","getPropertyValue","scrollContainerHeight","defaultLabels","APP_TITLE","ALL_APPS","ENERGY_MANAGER","ALL_ENERGY_MANAGERS","USER_PROFILE","USER_LOGOUT","NOTIFICATIONS","isDefined","defaultLinks","TYPES","APPS","LIMITS","PREDICATES","field","reverse","extend","getClasses","menuName","elementType","classes","isOpen","push","forEach","size","state","join","getDevices","login","create","filter","deviceModel.deviceClass","$in","DEVICE_CLASSES","owner","project","tagValues","IdName","SettingsNetworkMap","query","then","reply","items","item","emIP","ipv4","name","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","locale","currentLocale","code","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","SIDEBAR","POSITION_LEFT","$broadcast","EVENTS","TOGGLE_SIDEBAR_LEFT","POSITION_RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}