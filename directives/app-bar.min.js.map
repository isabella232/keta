{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","de","directive","$rootScope","$window","$document","$timeout","$filter","EventBusManager","DeviceSet","ApplicationSet","User","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","defaultDisplayModes","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","scrollContainerHeight","container","navbarFirst","children","navbarSecond","navbarFirstHeight","navbarSecondHeight","navbarSecondMarginBottom","offsetHeight","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","isDefined","setDefaultLinks","isString","create","query","then","reply","items","entryUri","name","app","appId","doesPropertyExist","Object","keys","meta","i18n","locale","document","createElement","href","unshift","origin","search","length","allLinkKeysAlreadySet","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","filter","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}