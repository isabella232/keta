{"version":3,"sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","__keta.directives.AppBar_logged_in_as","__keta.directives.AppBar_drop_access","de","fr","directive","$rootScope","$window","$document","$filter","EventBusManager","DeviceSet","ApplicationSet","User","AccessToken","AccessTokenConstants","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","impersonationInfo","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","sizesHiddenState","defaultDisplayModes","scrollContainerHeight","container","navBars","find","navbarFirst","navbarFirstHeight","impersonationBar","getElementsByClassName","impersonationBarHeight","navbarSecond","navbarSecondHeight","navbarSecondMarginBottom","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","setContainerHeight","offsetHeight","isDefined","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","setDefaultLinks","isString","create","query","then","reply","items","entryUri","name","app","appId","doesPropertyExist","Object","keys","meta","i18n","locale","document","createElement","href","linkProtocol","protocol","length","linkPort","port","linkOrigin","origin","hostname","unshift","search","allLinkKeysAlreadySet","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","filter","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","isImpersonated","isType","SESSION_TYPE","IMPERSONATED","getUserId","backUrl","getBackUrl","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":";;;;;;;;;;AAAA,YAoKAA,SAAQC,OAAO,0BAEb,0BACA,gCACA,uBACA,0BACA,+BACA,qBACA,4BACA,sBAGAC,SAAS,mBACTC,WACCC,eAAgB,gBAChBC,gBAAiB,gBACjBC,wBAAyB,wBACzBC,UAAW,WACXC,UAAW,WACXC,cAAe,eACfC,oBAAqB,oBACrBC,aAAc,eAEfC,MACCC,IAAK,MACLC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAELC,OACCC,OAAQ,SACRC,KAAM,OACNC,QAAS,WAEVC,YAAa,qBAIbpB,SAAS,qBACTqB,IACCC,qCAAsC,cACtCC,oCAAqC,WACrCC,+CAAgD,sBAChDC,0CAA2C,iBAC3CC,uCAAwC,SACxCC,wCAAyC,eACzCC,wCAAyC,mCACzCC,uCAAwC,eAEzCC,IACCR,qCAAsC,cACtCC,oCAAqC,YACrCC,+CAAgD,sBAChDC,0CAA2C,iBAC3CC,uCAAwC,WACxCC,wCAAyC,gBACzCC,wCAAyC,mCACzCC,uCAAwC,mBAEzCE,IACCT,qCAAsC,cACtCC,oCAAqC,0BACrCC,+CAAgD,2BAChDC,0CAA2C,iBAC3CC,uCAAwC,iBACxCC,wCAAyC,uBACzCC,wCAAyC,gDACzCC,uCAAwC,mBAIzCG,UAAU,SAAU,SACpBC,WAAYC,QAASC,UAAWC,QAChCC,gBAAiBC,UAAWC,eAAgBC,KAAMC,YAAaC,qBAC/DC,gBAAiBC,kBAAmBC,gBAAiBC,iBAAkBC,aAEvE,OACCC,SAAU,KACVC,SAAS,EACTC,OAGCC,WAAY,KAIZC,QAAS,KAGTC,cAAe,KAGfC,OAAQ,KAGRC,MAAO,KAGPC,OAAQ,KAGRC,aAAc,KAMdC,QAAS,MAGVC,YAAY,EACZC,YAAa,sCACbC,KAAM,SAA6BX,MAAOY,SAGzCZ,MAAMa,QACNb,MAAMc,SACNd,MAAMM,OAASN,MAAMM,WACrBN,MAAME,QAAUF,MAAME,YACtBF,MAAMe,kBACNf,MAAMgB,qBAGNhB,MAAME,QAAUhB,QAAQ,WAAWc,MAAME,QAAS,QAGlDF,MAAMC,WAAaD,MAAMC,YAAc,SACvC,IAAIgB,UAAW9B,gBAAgB+B,IAAIlB,MAAMC,YAErCkB,OAAS1B,gBAAgB3B,MACzBsD,MAAQ3B,gBAAgBjC,KAExB6D,yBAA2B,GAE/BrB,OAAMsB,cAAgB7B,gBAAgB1C,SAEtC,IAAIwE,eAAgB,GACnBC,oBAAsB,UACtBC,qBAAuB,WAGpBC,iBACJA,gBAAeN,MAAM3D,KAAO0D,OAAOnD,KACnC0D,eAAeN,MAAM1D,IAAMyD,OAAOnD,KAClC0D,eAAeN,MAAMzD,IAAMwD,OAAOnD,KAClC0D,eAAeN,MAAMxD,IAAMuD,OAAOnD,KAClC0D,eAAeN,MAAMvD,IAAMsD,OAAOnD,IAGlC,IAAI2D,qBACJA,mBAAkBP,MAAM3D,KAAO0D,OAAOpD,OACtC4D,kBAAkBP,MAAM1D,IAAMyD,OAAOpD,OACrC4D,kBAAkBP,MAAMzD,IAAMwD,OAAOlD,QACrC0D,kBAAkBP,MAAMxD,IAAMuD,OAAOlD,QACrC0D,kBAAkBP,MAAMvD,IAAMsD,OAAOnD,IAGrC,IAAI4D,oBACJA,kBAAiBR,MAAM3D,KAAO0D,OAAOpD,OACrC6D,iBAAiBR,MAAM1D,IAAMyD,OAAOpD,OACpC6D,iBAAiBR,MAAMzD,IAAMwD,OAAOpD,OACpC6D,iBAAiBR,MAAMxD,IAAMuD,OAAOpD,OACpC6D,iBAAiBR,MAAMvD,IAAMsD,OAAOpD,MAEpC,IAAI8D,uBACJA,qBAAoB7B,MAAMsB,cAActE,gBAAkB4E,iBAC1DC,oBAAoB7B,MAAMsB,cAAcrE,iBAAmByE,eAC3DG,oBAAoB7B,MAAMsB,cAAcpE,yBAA2BwE,eACnEG,oBAAoB7B,MAAMsB,cAAcnE,WAAauE,eACrDG,oBAAoB7B,MAAMsB,cAAclE,WAAauE,kBACrDE,oBAAoB7B,MAAMsB,cAAchE,qBAAuBqE,kBAC/DE,oBAAoB7B,MAAMsB,cAAcjE,eAAiBsE,kBAEzDE,oBAAoB7B,MAAMsB,cAAc/D,iBACxCsE,oBAAoB7B,MAAMsB,cAAc/D,cAAc6D,MAAM3D,KAAO0D,OAAOlD,QAC1E4D,oBAAoB7B,MAAMsB,cAAc/D,cAAc6D,MAAM1D,IAAMyD,OAAOlD,QACzE4D,oBAAoB7B,MAAMsB,cAAc/D,cAAc6D,MAAMzD,IAAMwD,OAAOpD,OACzE8D,oBAAoB7B,MAAMsB,cAAc/D,cAAc6D,MAAMxD,IAAMuD,OAAOpD,OACzE8D,oBAAoB7B,MAAMsB,cAAc/D,cAAc6D,MAAMvD,IAAMsD,OAAOpD,MAGzE,IAAI+D,uBAAwBT,wBAE5BrB,OAAM+B,UAAYnB,QAAQ,EAC1B,IAAIoB,SAAUpB,QAAQqB,KAAK,OAEvBC,YAAcF,QAAQ,GACtBG,kBAAoB,EAEpBC,iBAAmBxB,QAAQ,GAAGyB,uBAAuB,qBAAqB,GAC1EC,uBAAyB,EAEzBC,aAAeP,QAAQ,GACvBQ,mBAAqB,EACrBC,yBAA2B,EAO3BC,cAAgB,SAAuBC,aAC1C,GAAIC,YAAY,CAMhB,OALAhG,SAAQiG,QAAQzB,MAAO,SAAS0B,MAC3B9C,MAAMO,aAAaoC,aAAaG,QAAU3B,OAAOpD,SACpD6E,WAAY,KAGPA,WASJG,aAAe,QAASA,cAAaC,aAAcC,eACtD,GACCC,OADGC,SAEJ,KAAKD,QAASF,cAETE,QAASD,gBAAgD,gBAAxBD,cAAaE,QAAiC,OAAVA,MACxEC,OAAOD,OAASH,aAAaC,aAAaE,OAAQD,cAAcC,QAGhEC,OAAOD,OAASF,aAAaE,MAI/B,KAAKA,QAASD,eACTC,QAASC,UAGbA,OAAOD,OAASD,cAAcC,OAE/B,OAAOC,SAQJC,mBAAqB,WACxBjB,kBAAoBD,YAAYmB,aAC5BzG,QAAQ0G,UAAUlB,oBACrBE,uBAAyBF,iBAAiBiB,cAE3Cb,mBAAqBD,aAAac,aAClCZ,yBAA2Bc,SAC1BvE,QAAQwE,iBAAiBjB,aAAc,MAAMkB,iBAAiB,iBAC9DlC,eAGDO,sBAAwBK,kBAAoBG,uBAC1CE,mBAAqBC,yBAGxBzC,OAAMO,aAAewC,aAAa/C,MAAMO,aAAcsB,qBAEtD7B,MAAMG,cAAgBH,MAAMG,eAAiB,KAG7CH,MAAM0D,mBAAqB,2BAC3B1D,MAAMI,OAASxD,QAAQ+G,OAAOjE,kBAAmBM,MAAMI,QAEvDJ,MAAM4D,SAAW,SAAkBC,KAClC,MAAOhE,aAAYiE,iBAAiBD,IAAK7D,MAAMI,OAAQJ,MAAMG,eAG9D,IAAI4D,eACHC,SAAU,KACVC,oBAAqB,KACrBC,SAAU,KACVC,aAAc,KACdC,YAAa,KAIdpE,OAAMqE,OACLC,eAAgB,kBAIjBtE,MAAMuE,QACLD,eAAgB,EAIjB,IAAIE,aACHF,gBACCG,MAAO,OACPC,SAAS,GAIX1E,OAAMK,MAAQzD,QAAQ0G,UAAUtD,MAAMK,OACrCzD,QAAQ+G,OAAOI,aAAc/D,MAAMK,OAAS0D,YAM7C,IAAIY,iBAAkB,WAErB3E,MAAMK,MAAM+D,YACXxH,QAAQgI,SAAS5E,MAAMK,MAAM+D,aAAepE,MAAMK,MAAM+D,YAAc,oBAGtD,OAAbnD,UACH5B,eAAewF,OAAO5D,UAMpB6D,QACAC,KAAK,SAASC,OACd,GAAIpI,QAAQ0G,UAAU0B,MAAM7B,SAC3BvG,QAAQ0G,UAAU0B,MAAM7B,OAAO8B,OAAQ,CAEvC,GAAIC,UAAW,KACXC,OACJnF,OAAMQ,QAAU,KAChB5D,QAAQiG,QAAQmC,MAAM7B,OAAO8B,MAAO,SAASG,KACxCxI,QAAQ0G,UAAU8B,IAAIC,QACzBD,IAAIC,QAAU5F,gBAAgBvB,aAC9BtB,QAAQ0G,UAAU8B,IAAIF,YACtBA,SAAWE,IAAIF,SACXrF,YAAYyF,kBAAkBF,IAAK,cACtCxI,QAAQiG,QAAQ0C,OAAOC,KAAKJ,IAAIK,KAAKC,MAAO,SAASC,QACpDR,KAAKQ,QAAUP,IAAIK,KAAKC,KAAKC,QAAQR,SAOzC,IAAIxE,MAAOiF,SAASC,cAAc,IAClClF,MAAKmF,KAAOZ,QAEZ,IAAIa,cACHpF,KAAKqF,UACwC,MAA5CrF,KAAKqF,SAASrF,KAAKqF,SAASC,OAAS,GACrC,KAAO,OAELC,SACW,KAAdvF,KAAKwF,MAA6B,MAAdxF,KAAKwF,KACzB,IAAMxF,KAAKwF,KAAO,GAGfC,WACHxJ,QAAQ0G,UAAU3C,KAAK0F,QACtB1F,KAAK0F,OACNN,aAAepF,KAAK2F,SAAWJ,QAEf,QAAbhB,WACHlF,MAAMQ,WACNR,MAAMQ,QAAQG,KAAOuE,SACrBlF,MAAMQ,QAAQ2E,KAAOA,KACrBnF,MAAMM,OAAOiG,SACZpB,KAAM,UACNxE,KAAMX,MAAMQ,QAAQG,QAItBX,MAAMK,MAAM2D,SAAWpH,QAAQgI,SAAS5E,MAAMK,MAAM2D,UACnDhE,MAAMK,MAAM2D,SAAWoC,WAAazF,KAAK6F,OAAS,iBAEnDxG,MAAMK,MAAM8D,aAAevH,QAAQgI,SAAS5E,MAAMK,MAAM8D,cACvDnE,MAAMK,MAAM8D,aAAeiC,WAAazF,KAAK6F,OAAS,SAElD5J,QAAQgI,SAAS5E,MAAMK,MAAM4D,uBACjCjE,MAAMK,MAAM4D,oBAAsBmC,WAAazF,KAAK6F,OACjD,mEAQLC,uBAAwB,CAC5B7J,SAAQiG,QAAQ0C,OAAOC,KAAKzB,cAAe,SAAS2C,SACrB,OAA1B3C,aAAa2C,WAChBD,uBAAwB,KAItBA,yBAA0B,GAC7B9B,kBASD3E,MAAM2G,WAAa,SAAoBC,SAAUC,aAChD,GAAIC,WA0CJ,OAxCKlK,SAAQ0G,UAAUuD,eACtBA,YAAc,QAGXjK,QAAQ0G,UAAUtD,MAAMc,MAAM8F,YAAchK,QAAQ0G,UAAUtD,MAAMc,MAAM8F,UAAUG,SACnF/G,MAAMc,MAAM8F,UAAUG,QACzBD,QAAQE,KAAK,QAIfpK,QAAQiG,QAAQzB,MAAO,SAAS0B,MAE/B,GAAImE,OAAQjH,MAAMO,aAAaqG,UAAU9D,KAEzC,QAAQ+D,aACP,IAAK,OACJ,OAAQI,OACP,IAAK9F,QAAOpD,OACX+I,QAAQE,KAAKxF,oBAAsBsB,KACnC,MACD,KAAK3B,QAAOnD,KACX8I,QAAQE,KAAKvF,qBAAuBqB,KACpC,MACD,KAAK3B,QAAOlD,QACX6I,QAAQE,KAAKvF,qBAAuBqB,MAKtC,KACD,KAAK,QACAmE,QAAU9F,OAAOlD,SACpB6I,QAAQE,KAAKxF,oBAAsBsB,SAQhCgE,QAAQI,KAAK,KAQrB,IAAIC,YAAa,WAEC,OAAblG,UACHrE,QAAQ0G,UAAUtD,MAAMa,KAAKuG,SAC7B1E,cAAc1C,MAAMsB,cAAchE,sBAElC8B,UAAUyF,OAAO5D,UACfoG,QACAC,2BACCC,KAAQ5H,gBAAgB6H,MAAMlD,iBAE/BmD,MAAOzH,MAAMa,KAAKuG,SAElBM,SACAC,WACCC,OAAQ,EACRC,mBAAoB,KAGrB/C,QACAC,KAAK,SAASC,OACd,GAAIpI,QAAQ0G,UAAU0B,MAAM7B,SAC3BvG,QAAQ0G,UAAU0B,MAAM7B,OAAO8B,OAAQ,CAEvC,GAAIlE,kBACJnE,SAAQiG,QAAQmC,MAAM7B,OAAO8B,MAAO,SAAS6C,MAC5C,GAAIC,MACHnL,QAAQ0G,UAAUwE,KAAKH,YACvB/K,QAAQ0G,UAAUwE,KAAKH,UAAUE,qBACjCjL,QAAQ0G,UAAUwE,KAAKH,UAAUE,mBAAmB3E,QACpDtG,QAAQ0G,UAAUwE,KAAKH,UAAUE,mBAAmB3E,MAAM8E,MACzDF,KAAKH,UAAUE,mBAAmB3E,MAAM8E,KAAO,IACpC,QAATD,MAEHhH,eAAeiG,MACd7B,KAAM2C,KAAKH,UAAUC,OAAO1E,MAC5BvC,KAAM,UAAYoH,SAKrB/H,MAAMe,eAAiBA,mBAYxBkH,mBAAqB,WACxB,GAAIC,iBAAkBlI,MAAME,QAAQ,MAMpC,OALAtD,SAAQiG,QAAQ7C,MAAME,QAAS,SAASgD,OACnCA,MAAMiF,OAASnI,MAAMG,gBACxB+H,gBAAkBhF,SAGbgF,iBAOJE,YAAc,WACjBpI,MAAMc,SACNd,MAAMc,MAAMd,MAAMsB,cAAc/D,eAAiBwJ,QAAQ,GACzD/G,MAAMc,MAAMd,MAAMsB,cAActE,iBAAmB+J,QAAQ,GAC3D/G,MAAMc,MAAMd,MAAMsB,cAAchE,sBAAwByJ,QAAQ,GAChE/G,MAAMc,MAAMd,MAAMsB,cAAclE,YAAc2J,QAAQ,GACtD/G,MAAMc,MAAMd,MAAMsB,cAAcjE,gBAC/B0J,QAAQ,EACRsB,YAAaJ,sBAKE,QAAbhH,UACH3B,KAAKgJ,WAAWrH,UACd8D,KAAK,SAASC,OACdhF,MAAMa,KAAOmE,MACbmC,eAWHnH,MAAMuI,eAAiB,WACtB,GAAIpF,SAAS,CASb,OARI5D,aAAYiJ,OAAOhJ,qBAAqBiJ,aAAaC,gBACxD1I,MAAMgB,mBACLoG,OAAQ7H,YAAYoJ,YACpBC,QAASrJ,YAAYsJ,cAEtB1F,QAAS,GAGHA,QAQRnD,MAAM8I,MAAQ,SAAeC,MAC5B,GAAItE,OAAQ7H,QAAQ0G,UAAUkB,WAAWuE,OAASvE,WAAWuE,MAAMtE,MAAQ,MAC3E,OAAO,UAASqD,MACf,MAAOlL,SAAQ0G,UAAUwE,KAAKrD,QAAUqD,KAAKrD,OAAS,KASxDzE,MAAM0E,QAAU,SAAiBqE,MAChC,MAAOnM,SAAQ0G,UAAUkB,WAAWuE,QAAUnM,QAAQ0G,UAAUkB,WAAWuE,MAAMrE,SAChFF,WAAWuE,MAAMrE,SAAU,GAG7B1E,MAAMgJ,uBAAwB,EAE9BpM,QAAQgE,QAAQ5B,SAASiK,KAAK,SAAU,WAEnCrM,QAAQ0G,UAAUpB,eAEjBgH,KAAKC,QAAUhH,kBAAoBG,wBACtCtC,MAAMgJ,uBAAwB,EAE9BpI,QAAQwI,IAAI,SAAUtH,sBAAwB,QAE9C9B,MAAMgJ,uBAAwB,EAC9BpI,QAAQwI,IAAI,SAAU,SAEvBpJ,MAAMc,MAAMuI,cAActC,QAAS,EACnC/G,MAAMsJ,aASRtJ,MAAMuJ,gBAAkB,SAAyB3C,UAChD,GAAIhK,QAAQ0G,UAAUtD,MAAMc,MAAM8F,WAAY,CAC7C,GAAI4C,cAAe5M,QAAQ6M,KAAKzJ,MAAMc,MAAM8F,UAAUG,OACtD/G,OAAM0J,gBACFF,eAAiBxJ,MAAMc,MAAM8F,UAAUG,SAC1C/G,MAAMc,MAAM8F,UAAUG,QAAU/G,MAAMc,MAAM8F,UAAUG,UASzD/G,MAAM0J,cAAgB,WACrB1J,MAAMc,MAAMd,MAAMsB,cAActE,gBAAgB+J,QAAS,EACzD/G,MAAMc,MAAMd,MAAMsB,cAAclE,WAAW2J,QAAS,EACpD/G,MAAMc,MAAMd,MAAMsB,cAAchE,qBAAqByJ,QAAS,EAC9D/G,MAAMc,MAAMd,MAAMsB,cAAc/D,cAAcwJ,QAAS,EACvD/G,MAAMc,MAAMd,MAAMsB,cAAcjE,eAAe0J,QAAS,GAQzD/G,MAAM2J,UAAY,SAAmBhE,QACpC3F,MAAMG,cAAgBwF,OAAOwC,KAC7BnI,MAAMc,MAAMd,MAAMsB,cAAcjE,eAAegL,YAAc1C,OAC7D3F,MAAM0J,iBAGP1J,MAAM4J,IAAI,uBAAwB,WACjC5J,MAAM0J,kBASP1J,MAAM6J,SAAW,SAAkBjD,SAAUkD,OAC5C,MAAOlN,SAAQ0G,UAAUtD,MAAMc,MAAM8F,YAAc5G,MAAMc,MAAM8F,UAAUyB,cAAgByB,OAS1F9J,MAAM+J,cAAgB,SAAuBC,OAAQC,UACpDD,OAAOE,kBACPlK,MAAM0J,gBACFO,WAAarK,iBAAiBuK,SAASC,KAC1CrL,WAAWsL,WAAWzK,iBAAiB0K,MAAMC,qBACnCN,WAAarK,iBAAiBuK,SAASK,OACjDzL,WAAWsL,WAAWzK,iBAAiB0K,MAAMG,uBAI/CxL,UAAUgK,KAAK,QAAS,SAAeyB,OACtC,GAAIC,YAAa/J,QAAQgK,OACxBC,kBAAoBjO,QAAQgE,QAAQ8J,MAAMI,QAAQF,MACL,MAA1CD,WAAWI,QAAQF,qBAGvB7K,MAAM0J,gBACN1J,MAAMsJ,aAGPtJ,MAAMgL,OAAO,iBAAkB,SAA6BC,SAAUC,UACjED,WAAaC,UAChB9C,gBAIFpI,MAAMgL,OAAO,yBAA0B,SAASC,SAAUC,UACrDD,WAAaC,UAChB9H,uBAOFA,qBACAgF","file":"app-bar.min.js"}