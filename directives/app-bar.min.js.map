{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","de","directive","$rootScope","$window","$document","$timeout","$filter","EventBusManager","DeviceSet","ApplicationSet","User","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","defaultDisplayModes","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","scrollContainerHeight","container","navbarFirst","children","navbarSecond","navbarFirstHeight","navbarSecondHeight","navbarSecondMarginBottom","offsetHeight","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","isDefined","setDefaultLinks","isString","create","query","then","reply","items","entryUri","name","app","appId","doesPropertyExist","Object","keys","meta","i18n","locale","document","createElement","href","unshift","origin","search","allLinkKeysAlreadySet","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","filter","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}