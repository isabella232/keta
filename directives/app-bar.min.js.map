{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","de","directive","$rootScope","$window","$document","$timeout","EventBusManager","DeviceSet","ApplicationSet","User","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","defaultDisplayModes","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","scrollContainerHeight","container","navbarFirst","children","navbarSecond","navbarFirstHeight","navbarSecondHeight","navbarSecondMarginBottom","offsetHeight","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","isDefined","setDefaultLinks","create","filter","appId","query","then","reply","items","entryUri","name","app","meta","names","document","createElement","href","unshift","isString","origin","search","length","allLinkKeysAlreadySet","Object","keys","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","locale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}