{"version":3,"file":"app-bar.min.js","sources":["app-bar.js"],"names":["angular","module","directive","$rootScope","$window","$document","EventBusManager","DeviceSet","User","ketaSharedConfig","restrict","replace","scope","eventBusId","locales","labels","links","worlds","displayModes","transclude","templateUrl","link","element","user","menus","energyManagers","eventBus","get","STATES","HIDDEN","FULL","NONE","COMPACT","SIZES","XXS","XS","SM","MD","LG","ALL","DECIMAL_RADIX","HIDDEN_CLASS","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesNoneState","sizesDefaultState","defaultDisplayModes","worldSwitcher","mainMenu","notificationsMenu","userMenu","energyManagerMenu","languageMenu","settingsMenu","mergeObjects","customObject","defaultObject","value","result","container","navbarFirst","children","navbarSecond","navbarFirstHeight","offsetHeight","navbarSecondHeight","navbarSecondMarginBottom","parseInt","getComputedStyle","getPropertyValue","scrollContainerHeight","defaultLabels","APP_TITLE","ALL_APPS","ENERGY_MANAGER","ALL_ENERGY_MANAGERS","USER_PROFILE","USER_LOGOUT","NOTIFICATIONS","isDefined","defaultLinks","TYPES","APPS","LIMITS","PREDICATES","field","reverse","extend","getClasses","menuName","elementType","classes","isOpen","push","forEach","size","state","join","getDevices","userId","create","filter","deviceModel.deviceClass","$in","DEVICE_CLASSES","owner","project","tagValues","IdName","SettingsNetworkMap","query","then","reply","items","item","emIP","ipv4","name","updateMenus","activeEntry","getCurrent","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","locale","currentLocale","code","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","SIDEBAR","POSITION_LEFT","$broadcast","EVENTS","TOGGLE_SIDEBAR_LEFT","POSITION_RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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"}