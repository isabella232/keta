{"version":3,"sources":["app-bar.js"],"names":["angular","module","constant","COMPONENT","WORLD_SWITCHER","MENU_BAR_TOGGLE","NOTIFICATION_BAR_TOGGLE","APP_TITLE","USER_MENU","LANGUAGE_MENU","ENERGY_MANAGER_MENU","COMPACT_MENU","SIZE","XXS","XS","SM","MD","LG","STATE","HIDDEN","FULL","COMPACT","ROOT_APP_ID","en","__keta.directives.AppBar_app_title","__keta.directives.AppBar_all_apps","__keta.directives.AppBar_all_energy_managers","__keta.directives.AppBar_energy_manager","__keta.directives.AppBar_user_logout","__keta.directives.AppBar_user_profile","__keta.directives.AppBar_logged_in_as","__keta.directives.AppBar_drop_access","de","directive","$rootScope","$window","$document","$filter","EventBusManager","DeviceSet","ApplicationSet","User","AccessToken","AccessTokenConstants","AppBarConstants","AppBarMessageKeys","DeviceConstants","SidebarConstants","CommonUtils","restrict","replace","scope","eventBusId","locales","currentLocale","labels","links","worlds","displayModes","rootApp","transclude","templateUrl","link","element","user","menus","energyManagers","impersonationInfo","eventBus","get","STATES","SIZES","DEFAULT_CONTAINER_HEIGHT","MENU_ELEMENTS","DECIMAL_RADIX","HIDDEN_CLASS_PREFIX","VISIBLE_CLASS_PREFIX","sizesFullState","sizesDefaultState","sizesHiddenState","defaultDisplayModes","scrollContainerHeight","container","navBars","find","navbarFirst","navbarFirstHeight","impersonationBar","getElementsByClassName","impersonationBarHeight","navbarSecond","navbarSecondHeight","navbarSecondMarginBottom","isMenuVisible","menuElement","isVisible","forEach","size","mergeObjects","customObject","defaultObject","value","result","setContainerHeight","offsetHeight","isDefined","parseInt","getComputedStyle","getPropertyValue","MESSAGE_KEY_PREFIX","extend","getLabel","key","getLabelByLocale","defaultLinks","ALL_APPS","ALL_ENERGY_MANAGERS","APP_ROOT","USER_PROFILE","USER_LOGOUT","TYPES","ENERGY_MANAGER","LIMITS","PREDICATES","field","reverse","setDefaultLinks","isString","create","query","then","reply","items","entryUri","name","app","appId","doesPropertyExist","Object","keys","meta","i18n","locale","document","createElement","href","linkProtocol","protocol","length","linkPort","port","linkOrigin","origin","hostname","unshift","search","allLinkKeysAlreadySet","linkKey","getClasses","menuName","elementType","classes","isOpen","push","state","join","getDevices","userId","filter","deviceModel.deviceClass","$in","CLASS","owner","project","tagValues","IdName","SettingsNetworkMap","item","emIP","ipv4","getActiveLangEntry","activeLangEntry","code","updateMenus","activeEntry","getCurrent","isImpersonated","isType","SESSION_TYPE","IMPERSONATED","getUserId","backUrl","getBackUrl","order","type","scrollOverNavbarFirst","bind","this","scrollY","css","worldSwitcher","$digest","toggleOpenState","currentState","copy","closeAllMenus","setLocale","$on","isActive","entry","toggleSidebar","$event","position","stopPropagation","POSITION","LEFT","$broadcast","EVENT","TOGGLE_SIDEBAR_LEFT","RIGHT","TOGGLE_SIDEBAR_RIGHT","event","appBarHtml","html","targetElementHtml","target","indexOf","$watch","newValue","oldValue"],"mappings":"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","file":"app-bar.min.js"}