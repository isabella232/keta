/**
 * keta 0.4.21
 * Build 2016-03-17T14:17:36.384Z
 *
 * Copyright Kiwigrid GmbH 2014-2016
 * http://kiwigrid.github.io/keta/
 *
 * Licensed under MIT License
 * https://raw.githubusercontent.com/kiwigrid/keta/master/LICENSE
 */
"use strict";angular.module("keta.directives.Sidebar",[]).constant("SidebarConstants",{POSITION:{LEFT:"left",RIGHT:"right"},CSS:{OFFCANVAS:"offcanvas",BRAND_BAR:"brand-bar"},OFFSET:{TOGGLE_AREA:5,TRANSCLUDE:15},EVENT:{TOGGLE_SIDEBAR_LEFT:"TOGGLE_SIDEBAR_LEFT",TOGGLE_SIDEBAR_RIGHT:"TOGGLE_SIDEBAR_RIGHT"}}).directive("sidebar",function($document,SidebarConstants){return{restrict:"EA",replace:!0,scope:{configuration:"="},templateUrl:"/components/directives/sidebar.html",transclude:!0,link:function(scope,element){scope.configuration.position=angular.isDefined(scope.configuration.position)?scope.configuration.position:SidebarConstants.POSITION.LEFT,scope.showToggleArea=angular.isDefined(scope.configuration.label),scope.toggleAreaTop=0,scope.transcludeTop=0;var bodyElem=angular.element(document).find("body");scope.toggleSideBar=function(){bodyElem.toggleClass(SidebarConstants.CSS.OFFCANVAS+"-"+scope.configuration.position)},scope.$on("$locationChangeStart",function(){bodyElem.removeClass(SidebarConstants.CSS.OFFCANVAS+"-"+scope.configuration.position)});var toggleBodyClass=function(position){scope.configuration.position===position&&bodyElem.toggleClass(SidebarConstants.CSS.OFFCANVAS+"-"+scope.configuration.position)};if(scope.$on(SidebarConstants.EVENT.TOGGLE_SIDEBAR_LEFT,function(){toggleBodyClass(SidebarConstants.POSITION.LEFT)}),scope.$on(SidebarConstants.EVENT.TOGGLE_SIDEBAR_RIGHT,function(){toggleBodyClass(SidebarConstants.POSITION.RIGHT)}),scope.showToggleArea){var brandBarElem=bodyElem[0].getElementsByClassName(SidebarConstants.CSS.BRAND_BAR),brandBarHeight=angular.isDefined(brandBarElem[0])?brandBarElem[0].clientHeight:0;scope.toggleAreaTop=brandBarHeight+SidebarConstants.OFFSET.TOGGLE_AREA,scope.transcludeTop=SidebarConstants.OFFSET.TRANSCLUDE}$document.bind("click",function(event){if(bodyElem.hasClass(SidebarConstants.CSS.OFFCANVAS+"-"+scope.configuration.position)){var sideBarHtml=element.html(),targetElementHtml=angular.element(event.target).html();if(-1!==sideBarHtml.indexOf(targetElementHtml)&&0!==targetElementHtml.length)return;scope.toggleSideBar()}})}}});
//# sourceMappingURL=sidebar.min.js.map