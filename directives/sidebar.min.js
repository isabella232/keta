"use strict";angular.module("keta.directives.Sidebar",["keta.shared"]).directive("sidebar",function($document,ketaSharedConfig){return{restrict:"EA",replace:!0,scope:{configuration:"="},templateUrl:"/components/directives/sidebar.html",transclude:!0,link:function(scope,element){scope.configuration.position=angular.isDefined(scope.configuration.position)?scope.configuration.position:ketaSharedConfig.SIDEBAR.POSITION_LEFT,scope.showToggleArea=angular.isDefined(scope.configuration.label),scope.toggleAreaTop=0,scope.transcludeTop=0;var bodyElem=angular.element(document).find("body");scope.toggleSideBar=function(){bodyElem.toggleClass(ketaSharedConfig.SIDEBAR.CSS_OFFCANVAS+"-"+scope.configuration.position)},scope.$on("$locationChangeStart",function(){bodyElem.removeClass(ketaSharedConfig.SIDEBAR.CSS_OFFCANVAS+"-"+scope.configuration.position)});var toggleBodyClass=function(position){scope.configuration.position===position&&bodyElem.toggleClass(ketaSharedConfig.SIDEBAR.CSS_OFFCANVAS+"-"+scope.configuration.position)};if(scope.$on(ketaSharedConfig.EVENTS.TOGGLE_SIDEBAR_LEFT,function(){toggleBodyClass(ketaSharedConfig.SIDEBAR.POSITION_LEFT)}),scope.$on(ketaSharedConfig.EVENTS.TOGGLE_SIDEBAR_RIGHT,function(){toggleBodyClass(ketaSharedConfig.SIDEBAR.POSITION_RIGHT)}),scope.showToggleArea){var brandBarElem=bodyElem[0].getElementsByClassName(ketaSharedConfig.SIDEBAR.CSS_BRAND_BAR),brandBarHeight=angular.isDefined(brandBarElem[0])?brandBarElem[0].clientHeight:0;scope.toggleAreaTop=brandBarHeight+ketaSharedConfig.SIDEBAR.TOGGLE_AREA_OFFSET,scope.transcludeTop=ketaSharedConfig.SIDEBAR.TRANSCLUDE_OFFSET}$document.bind("click",function(event){if(bodyElem.hasClass(ketaSharedConfig.SIDEBAR.CSS_OFFCANVAS+"-"+scope.configuration.position)){var sideBarHtml=element.html(),targetElementHtml=angular.element(event.target).html();if(-1!==sideBarHtml.indexOf(targetElementHtml))return;scope.toggleSideBar()}})}}});
//# sourceMappingURL=sidebar.min.js.map