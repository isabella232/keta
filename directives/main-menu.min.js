/**
 * keta 1.10.0
 * Build 2020-10-05T09:13:28.340Z
 *
 * Copyright Kiwigrid GmbH 2014-2020
 * http://kiwigrid.github.io/keta/
 *
 * Licensed under MIT License
 * https://raw.githubusercontent.com/kiwigrid/keta/master/LICENSE
 */
"use strict";angular.module("keta.directives.MainMenu",[]).directive("ketaMainMenu",function($location,$rootScope){return{restrict:"EA",replace:!0,scope:{configuration:"=",titleCallback:"=?"},templateUrl:"/components/directives/main-menu.html",link:function(scope){scope.titleCallback=scope.titleCallback||function(){return""};var checkPaths=function(currentMenuLevelParts,locationLevelParts,activeFlag){for(var i=1;i<currentMenuLevelParts.length;i++)currentMenuLevelParts[i]!==locationLevelParts[i]&&(activeFlag=!1);return activeFlag};scope.isActive=function(menuEntry){var currentMenuLevelParts=menuEntry.link.split("/"),locationLevelParts=$location.path().split("/"),isActive=!0;return!(angular.isArray(menuEntry.items)&&menuEntry.items.length>0)&&(isActive=checkPaths(currentMenuLevelParts,locationLevelParts,isActive))},scope.isActiveParent=function(menuEntry){var currentMenuLevelParts=menuEntry.link.split("/"),locationLevelParts=$location.path().split("/"),isActiveParent=!1;return angular.isArray(menuEntry.items)&&menuEntry.items.length>0&&(isActiveParent=checkPaths(currentMenuLevelParts,locationLevelParts,isActiveParent=!0)),isActiveParent},scope.checkExpand=function(menuEntry,$event){var menuLink=menuEntry.link;angular.isString(menuLink)&&"#"===menuLink.substr(0,1)&&(menuLink=angular.copy(menuLink.substr(1,menuLink.length-1))),$location.url()===menuLink&&angular.isDefined(scope.configuration.toggleBroadcast)&&($event.stopPropagation(),$rootScope.$broadcast(scope.configuration.toggleBroadcast)),angular.isArray(menuEntry.items)&&menuEntry.items.length>0&&($event.preventDefault(),angular.isUndefined(menuEntry.expanded)||!1===menuEntry.expanded?menuEntry.expanded=!0:menuEntry.expanded=!menuEntry.expanded)}}}}),angular.module("keta.directives.MainMenu").run(function($templateCache){$templateCache.put("/components/directives/main-menu.html",'<div>\t<div data-ng-if="titleCallback()" class="sidebar-title">\t\t<span>{{ titleCallback() }}</span>\t</div>\t<ul class="nav nav-pills nav-stacked keta-main-menu">\t\t<li data-ng-repeat="entry in configuration.items"\t\t\tdata-ng-class="{\t\t\t\t\'active\': isActive(entry),\t\t\t\t\'active-parent\': isActiveParent(entry)\t\t\t}">\t\t\t<a data-ng-href="{{ entry.link }}" data-ng-click="checkExpand(entry, $event)"\t\t\t   title="{{ entry.name }}">\t\t\t\t<span class="{{ entry.icon }}"></span>\t\t\t\t<span class="list-item">{{ entry.name }}</span>\t\t\t\t<span class="expander glyphicon"\t\t\t\t\tdata-ng-if="entry.items"\t\t\t\t\tdata-ng-class="{ \'glyphicon-minus\': entry.expanded, \'glyphicon-plus\': !entry.expanded }">\t\t\t\t</span>\t\t\t</a>\t\t\t<ul class="nav nav-pills nav-stacked expanded nav-sub-level" data-ng-if="entry.expanded">\t\t\t\t<li data-ng-repeat="entryLevel2 in entry.items"\t\t\t\t\tdata-ng-class="{\t\t\t\t\t\t\'active\': isActive(entryLevel2),\t\t\t\t\t\t\'active-parent\': isActiveParent(entryLevel2)\t\t\t\t\t}">\t\t\t\t\t<a data-ng-href="{{ entryLevel2.link }}" data-ng-click="checkExpand(entryLevel2, $event)">\t\t\t\t\t\t<span data-ng-if="entryLevel2.icon" class="{{ entryLevel2.icon }}"></span>\t\t\t\t\t\t<span>{{ entryLevel2.name }}</span>\t\t\t\t\t\t<span class="expander glyphicon"\t\t\t\t\t\t\tdata-ng-if="entryLevel2.items"\t\t\t\t\t\t\tdata-ng-class="{ \'glyphicon-minus\': entryLevel2.expanded, \'glyphicon-plus\': !entryLevel2.expanded }">\t\t\t\t\t\t</span>\t\t\t\t\t</a>\t\t\t\t\t<ul class="nav nav-pills nav-stacked expanded nav-sub-level" data-ng-if="entryLevel2.expanded">\t\t\t\t\t\t<li data-ng-repeat="entryLevel3 in entryLevel2.items"\t\t\t\t\t\t\tdata-ng-class="{ \'active\': isActive(entryLevel3) }">\t\t\t\t\t\t\t<a data-ng-href="{{ entryLevel3.link }}">\t\t\t\t\t\t\t\t<span data-ng-if="entryLevel3.icon" class="{{ entryLevel3.icon }}"></span>\t\t\t\t\t\t\t\t<span>{{ entryLevel3.name }}</span>\t\t\t\t\t\t\t</a>\t\t\t\t\t\t</li>\t\t\t\t\t</ul>\t\t\t\t</li>\t\t\t</ul>\t\t</li>\t</ul></div>')});
//# sourceMappingURL=main-menu.min.js.map