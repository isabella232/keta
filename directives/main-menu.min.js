"use strict";angular.module("keta.directives.MainMenu",[]).directive("mainMenu",function($location,$rootScope){return{restrict:"EA",replace:!0,scope:{configuration:"="},templateUrl:"/components/directives/main-menu.html",link:function(scope){function checkPaths(currentMenuLevelParts,locationLevelParts,activeFlag){for(var i=1;i<currentMenuLevelParts.length;i++)currentMenuLevelParts[i]!==locationLevelParts[i]&&(activeFlag=!1);return activeFlag}scope.compactMode=angular.isDefined(scope.configuration.compactMode)?scope.configuration.compactMode:!1,scope.isActive=function(menuEntry){var currentMenuLevelParts=menuEntry.link.split("/"),locationLevelParts=$location.path().split("/"),isActive=!0;return scope.compactMode===!0?currentMenuLevelParts[1]===locationLevelParts[1]:angular.isArray(menuEntry.items)&&menuEntry.items.length>0?!1:isActive=checkPaths(currentMenuLevelParts,locationLevelParts,isActive)},scope.isActiveParent=function(menuEntry){var currentMenuLevelParts=menuEntry.link.split("/"),locationLevelParts=$location.path().split("/"),isActiveParent=!1;return angular.isArray(menuEntry.items)&&menuEntry.items.length>0&&(isActiveParent=!0,isActiveParent=checkPaths(currentMenuLevelParts,locationLevelParts,isActiveParent)),isActiveParent},scope.checkExpand=function(menuEntry,$event){$location.path()===menuEntry.link&&angular.isDefined(scope.configuration.toggleBroadcast)&&($event.stopPropagation(),$rootScope.$broadcast(scope.configuration.toggleBroadcast)),scope.compactMode===!1?angular.isArray(menuEntry.items)&&menuEntry.items.length>0&&($event.preventDefault(),menuEntry.expanded=angular.isUndefined(menuEntry.expanded)||menuEntry.expanded===!1?!0:!menuEntry.expanded):angular.isArray(menuEntry.items)&&menuEntry.items.length>0&&($event.preventDefault(),$location.path(menuEntry.items[0].link))}}}});
//# sourceMappingURL=main-menu.min.js.map