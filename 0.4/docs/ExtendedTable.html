<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>keta – Docs – Module: ExtendedTable</title>
	<meta name="description" content="jsDoc of Frontend Components for Kiwigrid Platform based AngularJS Apps">

	<link href="/keta/css/keta.min.css" rel="stylesheet">
	<link href="/keta/css/style.css" rel="stylesheet">
	<link href="/keta/css/docs.css" rel="stylesheet">
	<link href="/keta/css/prettify-tomorrow.css" rel="stylesheet">

	<!--[if lt IE 9]>
	<script src="/keta/js/html5shiv.min.js"></script>
	<script src="/keta/js/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="col-xs-12 col-sm-12 col-md-3 sidebar">
		<p id="logo">
			<a href="/keta/"><img src="/keta/img/keta.svg"></a>
		</p>
		<p class="lead text-center">
			Frontend Components for Kiwigrid Platform based AngularJS Apps
		</p>
		<p class="text-center">
			Version 0.4.7
		</p>
		<p class="text-center hidden-xs hidden-sm">
			<a class="btn btn-primary" href="https://github.com/kiwigrid/keta/zipball/0.4.7" role="button">ZIP File</a>
			<a class="btn btn-primary" href="https://github.com/kiwigrid/keta/tarball/0.4.7" role="button">TAR Ball</a>
		</p>
		<p class="text-center visible-xs visible-sm">
			<a class="btn btn-lg btn-primary" href="https://github.com/kiwigrid/keta/zipball/0.4.7" role="button">ZIP File</a>
			<a class="btn btn-lg btn-primary" href="https://github.com/kiwigrid/keta/tarball/0.4.7" role="button">TAR Ball</a>
		</p>
		<ul class="nav nav-pills nav-stacked">
			<li><a href="../index.html">Home</a></li>
			<li><a href="../examples/">Examples</a></li>
			<li class="active"><a href="../docs/">Documentation</a></li>
		</ul>
		<p class="footer text-center hidden-xs hidden-sm">
			View the project on <a href="https://github.com/kiwigrid/keta">Github</a>.<br>
			Maintained by <a href="http://www.kiwigrid.com">Kiwigrid GmbH</a>.<br>
			Licensed under the <a href="https://raw.githubusercontent.com/kiwigrid/keta/master/LICENSE">MIT License</a>.
		</p>
		<p id="company" class="text-center hidden-xs hidden-sm">
			<a href="http://www.kiwigrid.com"><img src="/keta/img/kiwigrid.svg"></a>
		</p>
	</div>

	<div class="col-xs-12 col-sm-12 col-md-2 col-md-offset-3 index">
		<nav>
			<h1><a href="index.html">Index</a></h1><h3>Modules</h3><ul class="list-unstyled"><li><a href="AppBar.html">AppBar</a></li><li><a href="ExtendedTable.html">ExtendedTable</a></li><li><a href="MainMenu.html">MainMenu</a></li><li><a href="Sidebar.html">Sidebar</a></li><li><a href="OrderObjectBy.html">OrderObjectBy</a></li><li><a href="Slice.html">Slice</a></li><li><a href="Unit.html">Unit</a></li><li><a href="AccessToken_.html">AccessToken</a></li><li><a href="AppContext_.html">AppContext</a></li><li><a href="Application_.html">Application</a></li><li><a href="ApplicationSet_.html">ApplicationSet</a></li><li><a href="Device_.html">Device</a></li><li><a href="DeviceEvent_.html">DeviceEvent</a></li><li><a href="DeviceSet_.html">DeviceSet</a></li><li><a href="EventBus_.html">EventBus</a></li><li><a href="EventBusDispatcher_.html">EventBusDispatcher</a></li><li><a href="EventBusManager_.html">EventBusManager</a></li><li><a href="Logger.html">Logger</a></li><li><a href="Tag.html">Tag</a></li><li><a href="TagSet.html">TagSet</a></li><li><a href="User.html">User</a></li><li><a href="UserSet.html">UserSet</a></li><li><a href="Application__.html">Application</a></li><li><a href="Common.html">Common</a></li><li><a href="Country.html">Country</a></li></ul><h3>Classes</h3><ul class="list-unstyled"><li><a href="AccessToken.html">AccessToken</a></li><li><a href="AppContext.html">AppContext</a></li><li><a href="AppContextProvider.html">AppContextProvider</a></li><li><a href="Application.html">Application</a></li><li><a href="ApplicationInstance.html">ApplicationInstance</a></li><li><a href="ApplicationProvider.html">ApplicationProvider</a></li><li><a href="ApplicationSet.html">ApplicationSet</a></li><li><a href="ApplicationSetInstance.html">ApplicationSetInstance</a></li><li><a href="ApplicationSetProvider.html">ApplicationSetProvider</a></li><li><a href="ApplicationUtils.html">ApplicationUtils</a></li><li><a href="CommonUtils.html">CommonUtils</a></li><li><a href="CountryUtils.html">CountryUtils</a></li><li><a href="Device.html">Device</a></li><li><a href="DeviceEvent.html">DeviceEvent</a></li><li><a href="DeviceEventInstance.html">DeviceEventInstance</a></li><li><a href="DeviceEventProvider.html">DeviceEventProvider</a></li><li><a href="DeviceInstance.html">DeviceInstance</a></li><li><a href="DeviceProvider.html">DeviceProvider</a></li><li><a href="DeviceSet.html">DeviceSet</a></li><li><a href="DeviceSetInstance.html">DeviceSetInstance</a></li><li><a href="DeviceSetProvider.html">DeviceSetProvider</a></li><li><a href="EventBus.html">EventBus</a></li><li><a href="EventBusDispatcher.html">EventBusDispatcher</a></li><li><a href="EventBusDispatcherProvider.html">EventBusDispatcherProvider</a></li><li><a href="EventBusManager.html">EventBusManager</a></li><li><a href="EventBusManagerProvider.html">EventBusManagerProvider</a></li><li><a href="EventBusProvider.html">EventBusProvider</a></li><li><a href="LoggerConfig.html">LoggerConfig</a></li><li><a href="LoggerDecorator.html">LoggerDecorator</a></li><li><a href="Tag_.html">Tag</a></li><li><a href="TagInstance.html">TagInstance</a></li><li><a href="TagProvider.html">TagProvider</a></li><li><a href="TagSet_.html">TagSet</a></li><li><a href="TagSetInstance.html">TagSetInstance</a></li><li><a href="TagSetProvider.html">TagSetProvider</a></li><li><a href="User_.html">User</a></li><li><a href="UserInstance.html">UserInstance</a></li><li><a href="UserProvider.html">UserProvider</a></li><li><a href="UserSet_.html">UserSet</a></li><li><a href="UserSetInstance.html">UserSetInstance</a></li><li><a href="UserSetProvider.html">UserSetProvider</a></li></ul>
		</nav>
	</div>

	<div class="col-xs-12 col-sm-12 col-md-7 canvas" id="#top">
		<h1 class="page-title">Module: ExtendedTable</h1>
		



<section>
    
<header>
    <h2>
    ExtendedTable
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
            <div class="description"><p>
  A table directive with extended functionality as column sorting, column customizing, paging
  and filtering.
</p>
<p>
  Basic principle is the usage of optional parameters and callbacks, which offer a really
  flexible API for customizing the table to you very own needs.
</p></div>
        
        
        
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul class="list-unstyled">
            <li>Marco Lehmann &lt;marco.lehmann (at) kiwigrid.com&gt;</li>
        </ul>
    </dd>
    
    
    
    <dt class="tag-copyright">Copyright:</dt>
    <dd class="tag-copyright"><ul class="list-unstyled dummy"><li>Kiwigrid GmbH 2014-2015</li></ul></dd>
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="list-unstyled dummy"><li>
        <a href="extended-table.js.html">directives/extended-table.js</a>, <a href="extended-table.js.html#line3">line 3</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

        
        
            <h3>Examples</h3>
            
    <pre class="prettyprint"><code>&lt;div data-extended-table
    data-rows="rows"
    data-current-locale="currentLocale"
    data-label-add-column="labelAddColumn"
    data-disabled-components="disabledComponents"
    data-switchable-columns="switchableColumns"
    data-group-by-property="groupByProperty"
    data-order-by-property="orderByProperty"
    data-visible-columns="visibleColumns"
    data-header-label-callback="headerLabelCallback"
    data-operations-mode="operationsMode"
    data-row-sort-enabled="rowSortEnabled"
    data-row-sort-criteria="rowSortCriteria"
    data-row-sort-order-ascending="rowSortOrderAscending"
    data-action-list="actionList"
    data-cell-renderer="cellRenderer"
    data-column-class-callback="columnClassCallback"
    data-table-class-callback="tableClassCallback"
    data-pager="pager"
    data-search="search"
    data-search-results="searchResults"&gt;&lt;/div&gt;</code></pre>

    <pre class="prettyprint"><code>angular.module('exampleApp', ['keta.directives.ExtendedTable', 'keta.services.Device'])
    .controller('ExampleController', function(
        $scope,
        ExtendedTableConstants, ExtendedTableMessageKeys, DeviceConstants) {

        // data as array of objects, keys from first element are taken as headers
        $scope.rows = [{
            guid: 'guid-1',
            idName: 'Device 1',
            stateDevice: 'OK',
            deviceClass: 'class-1'
        }, {
            guid: 'guid-2',
            idName: 'Device 2',
            stateDevice: 'ERROR',
            deviceClass: 'class-2'
        }, {
            guid: 'guid-3',
            idName: 'Device 3',
            stateDevice: 'FATAL',
            deviceClass: 'class-3'
        }];

        // override default-labels if necessary
        // get default labels
        $scope.labels = ExtendedTableMessageKeys;

        // use case 1: overwrite specific key
        $scope.labels.de['__keta.directives.ExtendedTable_search'] = 'Finde';

        // use case 2: add locale
        $scope.labels.fr = {
            '__keta.directives.ExtendedTable_search': 'Recherche',
            '__keta.directives.ExtendedTable_add_column': 'Ajouter colonne',
            '__keta.directives.ExtendedTable_remove_column': 'Retirer la colonne',
            '__keta.directives.ExtendedTable_sort': 'Sorte',
            '__keta.directives.ExtendedTable_no_entries': 'Pas d’entrées'
        };

        // array of disabled components (default: everything except the table itself is disabled)
        $scope.disabledComponents = [
            // the table itself
            ExtendedTableConstants.COMPONENT.TABLE,
            // an input field to search throughout the full dataset
            ExtendedTableConstants.COMPONENT.FILTER,
            // a selector to add columns to table
            ExtendedTableConstants.COMPONENT.SELECTOR,
            // a pager to navigate through paged data
            ExtendedTableConstants.COMPONENT.PAGER
        ];

        // array of switchable columns (empty by default)
        // together with selector component the given columns can be removed from
        // table and added to table afterwards
        // to support grouping in select field an array of objects is required (match is compared by id property)
        $scope.switchableColumns = [{
            id: 'deviceClass'
        }];

        // property to group selector by
        $scope.groupByProperty = 'column.deviceName';

        // property to order selector by
        $scope.orderByProperty = 'tagName';

        // array of visible columns (full by default)
        // use this property to filter out columns like primary keys
        $scope.visibleColumns = ['idName', 'stateDevice', 'deviceClass'];

        // callback method to specify header labels (instead of using auto-generated ones)
        $scope.headerLabelCallback = function(column) {
            var mappings = {
                idName: 'Name',
                stateDevice: 'State',
                deviceClass: 'Device Class'
            };
            return (angular.isDefined(mappings[column])) ? mappings[column] : column;
        };

        // operations mode ("view" for frontend or "data" for backend)
        // by defining operations mode as "view" the directive itself manages sorting,
        // paging and filtering; if you just pass a pre-sorted, pre-paged and pre-filtered
        // dataset by querying a backend, you have to use "data"
        $scope.operationsMode = ExtendedTableConstants.OPERATIONS_MODE.VIEW;

        // boolean flag to enable or disable row sorting in frontend by showing appropriate icons
        $scope.rowSortEnabled = true;

        // criteria to sort for as string
        $scope.rowSortCriteria = 'idName';

        // boolean flag to determine if sort order is ascending (true by default)
        $scope.rowSortOrderAscending = true;

        // Array of actions to render for each row.
        // getLink method will be used to construct a link with the help of the row object,
        // getLabel is used as callback to retrieve value for title-tag,
        // icon is used as icon-class for visualizing the action.
        // runAction is a callback-function that will be executed when the user clicks on
        // the corresponding button. To use this functionality it is necessary to provide the type-parameter
       // with the value 'action'.
       // type can have the values 'link' (a normal link with href-attribute will be rendered) or
       // 'action' (a link with ng-click attribute to execute a callback will be rendered).
       // For simplicity the type-property can be left out. In this case the directive renders
       // a normal link-tag (same as type 'link').
       // display is an optional callback to return condition for displaying action item based on given row
        $scope.actionList = [{
            getLink: function(row) {
                return 'edit/' + row.guid;
            },
            getLabel: function() {
                return 'Edit';
            },
            icon: 'glyphicon glyphicon-pencil',
            type: ExtendedTableConstants.ACTION_LIST_TYPE.LINK
        }, {
            runAction: function(row) {
                console.log('action called with ', row);
            },
            getLabel: function() {
                return 'Remove';
            },
            icon: 'glyphicon glyphicon-remove'
            type: ExtendedTableConstants.ACTION_LIST_TYPE.ACTION,
            display: function(row) {
                return row.type !== 'EnergyManager';
            }
        }];

        // callback method to render each cell individually
        // with the help of this method you can overwrite default cell rendering behavior,
        // e.g. suppressing output for stateDevice property
        $scope.cellRenderer = function(row, column) {
            var value = angular.isDefined(row[column]) ? row[column] : null;
            if (column === 'stateDevice') {
                value = '';
            }
            return value;
        };

        // callback method to return class attribute for each column
        // in this example together with cellRenderer the deviceState column is
        // expressed as just a table data element with css classes
        $scope.columnClassCallback = function(row, column, isHeader) {
            var columnClass = '';
            if (column === 'stateDevice') {
                columnClass = 'state';
                if (row.state === DeviceConstants.STATE.OK && !isHeader) {
                    columnClass+= ' state-success';
                }
                if (row.state === DeviceConstants.STATE.ERROR && !isHeader) {
                    columnClass+= ' state-warning';
                }
                if (row.state === DeviceConstants.STATE.FATAL && !isHeader) {
                    columnClass+= ' state-danger';
                }
            }
            return columnClass;
        };

        // callback method to return class array for table
        $scope.tableClassCallback = function() {
            return ['table-striped'];
        };

        // object for pager configuration (total, limit, offset)
        // with this configuration object you are able to manage paging
        // total is the total number of rows in the dataset
        // limit is the number of rows shown per page
        // offset is the index in the dataset to start from
        var pager = {};
        pager[ExtendedTableConstants.PAGER.TOTAL] = $scope.allRows.length;
        pager[ExtendedTableConstants.PAGER.LIMIT] = 5;
        pager[ExtendedTableConstants.PAGER.OFFSET] = 0;
        $scope.pager = pager;

        // search term to filter the table
        // as two-way-binded property this variable contains the search string
        // typed by the user in the frontend and can therefor be used for querying
        // the backend, if watched here additionally
        $scope.search = null;

        // array of search results e.g. for usage in headlines
        // defaults to $scope.rows, typically not set directly by controller
        //$scope.searchResults = $scope.rows;

    });</code></pre>

        
    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</article>

</section>  




	</div>

	<script src="/keta/js/prettify.js"></script>
	<script src="/keta/js/lang-css.js"></script>
	<script> prettyPrint(); </script>
	<script src="/keta/js/linenumber.js"></script>
</body>
</html>