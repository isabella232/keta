{"version":3,"sources":["device-set.js"],"names":["angular","module","provider","this","$get","$q","$rootScope","$log","$interval","ketaDevice","ketaDeviceEvent","ketaDeviceSetPollers","ketaEventBusDispatcher","ketaEventBusManager","api","DeviceSetInstance","givenEventBus","that","eventBus","params","registerListener","set","filter","project","projection","sort","sorting","paginate","pagination","isDefined","offset","limit","live","fetchDevices","replyProcessor","send","action","logFetchQueryReply","reply","request","ADVANCED_FORMATTER","compareGuids","thisDevice","thatDevice","guid","addToStored","device","sync","create","CREATED","deleteFromStored","DELETED","updateStored","UPDATED","synchroniseChangesToStoredDevices","fetchQueryReply","currentDevices","getAll","slice","fetchedDevices","c","f","length","equals","fetchAndStoreDevices","code","RESPONSE_CODE_OK","inDebugMode","storeAndReturnFetchedDevices","queryReply","deferredResult","result","items","forEach","item","index","resolve","$digest","reject","query","poller","add","deferred","defer","promise","indexOf","key","isArray","get","event","modified","getDevice","getType","push","splice","extend","$$phase","$apply"],"mappings":"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","file":"device-set.min.js"}