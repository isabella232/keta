{"version":3,"sources":["access-token.js"],"names":["angular","module","constant","SESSION_TYPE","NORMAL","IMPERSONATED","JWT_REGULAR_EXPRESSION","RegExp","factory","$http","$q","ketaAppContext","ketaAccessTokenConstants","isKeycloak","get","keycloak","window","auth","authz","accessToken","token","decodedAccessToken","refreshPromise","refreshInProgress","Base64","keyStr","decode","input","chr1","chr2","chr3","enc2","enc3","enc4","output","i","replace","length","this","indexOf","charAt","String","fromCharCode","utf8Decode","encode","enc1","utf8Encode","charCodeAt","isNaN","utfText","string","c","c2","c3","n","getProperty","property","isDefined","api","decoded","set","isString","props","test","payload","split","substr","JSON","parse","e","stringify","refresh","defer","refreshUrl","updateToken","method","url","then","response","resolve","reject","promise","hasPermission","permission","has","isArray","scope","isType","type","session","getBackUrl","backUrl","getUserId","getChannel"],"mappings":"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","file":"access-token.min.js"}